"use strict";class QuickPagination{constructor({pagesTarget:e,itemsPerPage:t=5,itemsSelector:a="[data-index]",paginationSelector:s="#pagination",pageDisplayProperty:i="block",nextPrevButtons:n=!1,contentPrevButton:r="Previous",contentNextButton:l="Next",pageClasses:h=["page","row"],amountOfPrevNextItems:o=1}){this.chunks=[],this.perPage=t,this.itemsSelector=a,this.pagesTarget=document.querySelector(e),this.paginationElement=document.querySelector(s),this.nextPrevButtons=n,this.pageDisplay=i,this.currentPage=1,this.amountOfPages=0,this.amountOfPrevNextItems=o,this.originalItems=Array.prototype.slice.call(document.querySelectorAll(this.itemsSelector)),this.contentPrevButton=r,this.contentNextButton=l,this.pageClasses=h,document.querySelector(this.itemsSelector).parentElement.style.display="none",this.init()}init(){this.currentPage=1,this.getItems(),this.createChunks(),this.appendPages(),this.createPagination(),this.addClickEvents()}createPagination(){return this.createPageNav(),this.nextPrevButtons&&this.createNextPrev(),!0}getOriginalItems(){return this.originalItems=Array.prototype.slice.call(document.querySelectorAll(this.itemsSelector))}getItems(){return this.visItems=this.getOriginalItems().filter(e=>"none"!=e.style.display),this.visItems}createChunks(){this.chunks=[];let e=0,t=this.visItems.length;for(;e<=t;)this.chunks.push(this.visItems.slice(e,e+=this.perPage));return 0===this.chunks[this.chunks.length-1].length&&this.chunks.pop(),this.amountOfPages=this.chunks.length,this.chunks}createAnchorTag(e,t){const a=document.createElement("a");return a.classList.add("page-link"),a.setAttribute("href","#page-"+e),a.setAttribute("aria-label","Page "+e),a.setAttribute("data-page-number",e),t&&a.setAttribute("data-page-anchor-tag",e),a.textContent=e,a}createListItem(e,t){const a=document.createElement("li");return a.classList.add("page-item"),a.appendChild(this.createAnchorTag(e,t)),a}createEmptyListItem(){const e=document.createElement("a");e.classList.add("page-link"),e.setAttribute("aria-disabled","true"),e.setAttribute("href","#"),e.textContent="...";const t=document.createElement("li");return t.classList.add("empty-page-link"),t.classList.add("disabled"),t.classList.add("page-item"),t.appendChild(e),t}createPageNav(){this.paginationElement.innerHTML="";let e=document.createElement("ol");e.classList.add("pagination"),e.classList.add("flex-wrap");for(let t=0;t<this.chunks.length;t++)e.appendChild(this.createListItem(t+1,!0));return this.paginationElement.appendChild(e),e}createPage(e){let t=document.createElement("div");for(let e=0;e<this.pageClasses.length;e++)t.classList.add(this.pageClasses[e]);return t.id="page-"+(e+1),t.dataset.page=e+1,t.style.display="none",this.chunks[e].forEach(e=>{t.appendChild(e.cloneNode(!0))}),t}appendPages(){this.pagesTarget.querySelectorAll("[data-page]").forEach(e=>{e.remove()});for(let e=0;e<this.chunks.length;e++)this.pagesTarget.appendChild(this.createPage(e));return this.pagesTarget}hideAllPages(){this.pagesTarget.querySelectorAll("[data-page]").forEach(e=>{e.style.display="none"})}removeActiveLinks(){this.paginationElement.querySelectorAll("[data-page-anchor-tag]").forEach(e=>{e.parentNode.classList.remove("active")})}showPage(e,t){e.getAttribute("aria-disabled")||(this.hideAllPages(),this.removeActiveLinks(),"pagination-next-button"!==e.parentNode.id&&"pagination-prev-button"!==e.parentNode.id?(e.parentNode.classList.add("active"),this.pagesTarget.querySelector('[data-page="'+e.dataset.pageAnchorTag+'"]').style.display=this.pageDisplay,this.currentPage=parseInt(e.dataset.pageAnchorTag)):(this.paginationElement.querySelector('[data-page-anchor-tag="'+t+'"]').parentNode.classList.add("active"),this.pagesTarget.querySelector('[data-page="'+t+'"]').style.display=this.pageDisplay,this.currentPage=parseInt(t)),this.replaceNumbersWithDots(),this.checkCanClickNextPrev())}addClickEvents(){this.paginationElement.querySelectorAll("a").forEach(e=>{parseInt(e.dataset.pageAnchorTag)===this.currentPage&&this.showPage(e),e.addEventListener("click",t=>{t.preventDefault(),!e.dataset.pageAnchorTag&&this.nextPrevButtons?this.showPage(e,this.currentPage+parseInt(e.dataset.pageNumber)):this.showPage(e)})})}setContentAndIdForListItem(e,t){return e.id="pagination-"+t+"-button","next"===t&&(e.children[0].innerHTML=this.contentNextButton),"prev"===t&&(e.children[0].innerHTML=this.contentPrevButton),e}enableListItem(){if(!1===this.nextPrevButtons)return;let e=this.paginationElement.children[0].firstChild,t=this.paginationElement.children[0].lastChild;e.classList.remove("disabled"),t.classList.remove("disabled"),e.children[0].removeAttribute("aria-disabled"),t.children[0].removeAttribute("aria-disabled")}disableListItem(e){return e.children[0].setAttribute("aria-disabled","true"),e.classList.add("disabled"),e}canClickNextPrev(e){return!(e<1||e>this.amountOfPages)}checkCanClickNextPrev(){!1!==this.nextPrevButtons&&(this.enableListItem(),this.canClickNextPrev(this.currentPage-1)||this.disableListItem(this.prevButton),this.canClickNextPrev(this.currentPage+1)||this.disableListItem(this.nextButton))}createNextPrev(){this.prevButton=this.setContentAndIdForListItem(this.createListItem("-1",!1),"prev"),this.nextButton=this.setContentAndIdForListItem(this.createListItem("+1",!1),"next"),this.paginationElement.children[0].prepend(this.prevButton),this.paginationElement.children[0].append(this.nextButton)}calculateInReach(e){return e===this.chunks.length||1===e||(e-(this.currentPage-this.amountOfPrevNextItems))*(e-(this.currentPage+this.amountOfPrevNextItems))<=0}showAllPaginationElements(){this.paginationElement.children[0].childNodes.forEach(e=>{e.style.display="list-item"})}removeAllDotElements(){this.paginationElement.querySelectorAll(".empty-page-link").forEach(e=>{e.remove()})}replaceElementsWithDots(e,t){if(e.length>0){this.paginationElement.children[0].insertBefore(this.createEmptyListItem(),e[0].parentNode);for(let t=0;t<e.length;t++)e[t].parentNode.style.display="none"}if(t.length>0){this.paginationElement.children[0].insertBefore(this.createEmptyListItem(),t[t.length-1].parentNode);for(let e=0;e<t.length;e++)t[e].parentNode.style.display="none"}}replaceNumbersWithDots(){if(!1===this.amountOfPrevNextItems)return;let e=[],t=[];this.paginationElement.querySelectorAll("[data-page-anchor-tag]").forEach(a=>{let s=parseInt(a.dataset.pageAnchorTag);this.calculateInReach(s)||(s<this.currentPage?e.push(a):t.push(a))}),this.removeAllDotElements(),this.showAllPaginationElements(),(e.length>0||t.length>0)&&this.replaceElementsWithDots(e,t)}}