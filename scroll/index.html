<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dev env</title>
    <style>
        *,
        :after,
        :before {
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            padding: 0;
            margin: 0;
            height: 200vh;
            overflow-x: hidden;
        }

        #eye-med-circle {
            position: absolute;
            top: 50%;
            right: -5%;
            width: 50vw;
            height: auto;
        }

        .spinning-circles svg {
            transform-origin: center;
        }

        .spinning-circles svg * {
            transform-origin: inherit;
        }
        </style>
</head>
<body>

    <div class="spinning-circles" id="eye-med-circle">
        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 627.1 627.1" style="enable-background:new 0 0 627.1 627.1;" xml:space="preserve">
            <path class="st0 inner-circle" fill="#072560" d="M300,506c-106.3-7.5-186.4-99.8-178.8-206.1c5.5-77.3,56.6-143.8,129.9-168.9 c60.8-20.8,128-9.9,179.2,28.9c8.5,6.4,10.3,18.5,3.9,27.1c-6.4,8.5-18.5,10.3-27.1,3.9c-0.1-0.1-0.1-0.1-0.2-0.2 c-23.9-18.2-52.5-28.9-82.5-31c-84.8-5.9-158.7,58.2-164.6,143s58.2,158.7,143,164.6s158.7-58.2,164.6-143 c1.9-27.1-3.4-54.3-15.4-78.8c-4.6-9.6-0.6-21.2,9-25.8c9.5-4.6,20.9-0.7,25.7,8.7c47,95.6,7.6,211.1-87.9,258.2 C368.1,501.7,334,508.4,300,506z" />
            <g class="outer-circle">
                <path class="st0 outer-dark" fill="#072560" d="M290.5,626.3c-21.1-1.5-42-5.1-62.3-10.7c-39.3-11-76-29.5-108.1-54.7 c-47.7-37.3-83.6-87.7-103.2-145c-6.6-19.4-11.4-39.4-14.1-59.8c-2.8-21-3.4-42.1-1.9-63.2c4.2-60.6,26-118.7,62.8-167.1 c5.9-7.6,16.9-9,24.5-3c7.5,5.8,8.9,16.6,3.3,24.2c-32.7,42.9-52.1,94.5-55.8,148.4C24.9,447.9,140.3,580.8,292.9,591.5 c86.4,6.1,169-27.6,226.7-92.4c6.3-7.3,17.3-8,24.6-1.7c7.3,6.3,8,17.3,1.7,24.6c-0.1,0.1-0.2,0.2-0.3,0.3 c-31.2,35.1-69.9,62.7-113.2,80.8c-22,9.2-45,15.8-68.5,19.7C339.7,626.9,315,628,290.5,626.3z" />
                <path class="st1 outer-light" fill="#0ABDFF" d="M578.1,179.5c-7,6.6-18.1,6.2-24.7-0.9c-0.9-1-1.7-2.1-2.4-3.3c-10.8-18.9-23.7-36.5-38.5-52.4 C408.2,11.2,232.5,5.1,120.7,109.4c-6.9,6.7-18,6.5-24.7-0.4c-6.7-6.9-6.5-18,0.4-24.7c0.2-0.2,0.3-0.3,0.5-0.4 c15.4-14.4,32.3-27.2,50.3-38.3c17.5-10.7,36-19.6,55.3-26.7C221.4,12,241,7,260.9,3.8C300.5-2.4,340.9-1,380,8 c19.6,4.5,38.8,10.9,57.2,19.1c18.7,8.4,36.6,18.6,53.3,30.4c17.2,12.3,33.1,26.2,47.5,41.6c16.7,17.9,31.3,37.7,43.4,59 C585.4,165.2,584,174,578.1,179.5z" />
            </g>
        </svg>
    </div>

    <script>
        const spinningCircles = document.querySelectorAll('.spinning-circles svg');
        
        // Setup a timer
        var timeout;
        window.onscroll = function(e) {
            let intense = this.oldScroll > this.scrollY ? -9 : 9;
            if (timeout) {
                window.cancelAnimationFrame(timeout);
            }
            timeout = window.requestAnimationFrame(() => {
                scrollRotate(intense);
            });
            this.oldScroll = this.scrollY;
        };

        document.addEventListener('mousewheel', (e) => {
            var d = document.documentElement;
            var scrolltop = d.scrollTop;
            var offset = d.scrollTop + window.innerHeight;
            var height = d.offsetHeight;
            if (offset >= height && e.deltaY >= 0) {
                scrollRotate(30);
            }
            if (scrolltop == 0 && e.deltaY <= 0) {
                scrollRotate(-30);
            }
        })

        let counter = 0;
        let options = {
            duration: 500,
            iterations: 1,
            easing: 'ease-in-out',
            fill: 'forwards'
        };
        function scrollRotate(inc = 7) {
            let oldCounter = counter;
            counter = counter + inc;
            spinningCircles.forEach(spinner => {
                // spinner.querySelector('.inner-circle').style.transform = "rotate(" + counter / 4 + "deg)";
                spinner.querySelector('.inner-circle').animate([
                    { transform: 'rotate(' + oldCounter / 4 + 'deg)' },
                    { transform: 'rotate(' + counter / 4 + 'deg)' }
                ], options);
                spinner.querySelector('.outer-dark').animate([
                    { transform: 'rotate(' + oldCounter / 5 + 'deg)' },
                    { transform: 'rotate(' + counter / 5 + 'deg)' }
                ], options);
                spinner.querySelector('.outer-light').animate([
                    { transform: 'rotate(' + oldCounter / -3 + 'deg)' },
                    { transform: 'rotate(' + counter / -3 + 'deg)' }
                ], options);
            })
        }
    </script>

</body>

</html>